import{_ as j,r as C,w as z,o as p,c as v,a,F as y,b as $,d as M,u as N,h as B,s as q,m as E,e as g,f as x,t as I,p as F,g as O,i as P,P as R,j as U}from"./index.0faeefa4.js";import{a as X}from"./amountSelect.360092f1.js";const G={key:0,class:"product-show"},H={class:"picture"},J=["src"],K={class:"icons"},Q=["onClick"],T=["src"],W={__name:"productShow",props:{imageLarge:{type:Array,required:!0},imageIcon:{type:Array,required:!0}},setup(n){const u=n,r=C(),m=s=>{r.value=u.imageLarge[s],console.log("show")};return z(u.imageLarge,s=>{s.length>0&&m(0)},{immediate:!0}),(s,l)=>r.value?(p(),v("div",G,[a("div",H,[a("img",{class:"image-large",src:r.value},null,8,J)]),a("div",K,[(p(!0),v(y,null,$(n.imageIcon,(e,o)=>(p(),v("div",{key:o,onClick:h=>m(o)},[a("img",{src:e},null,8,T)],8,Q))),128))])])):M("",!0)}};var Y=j(W,[["__scopeId","data-v-18214327"]]);const _=n=>(F("data-v-9b8c5ba4"),n=n(),O(),n),Z={class:"row"},D={class:"col-lg-7 col-md-12 col-sm-12 col-xs-12"},aa={class:"col-lg-5 col-md-12 col-sm-12 col-xs-12 product-info"},ta=_(()=>a("div",{class:"spacer"},null,-1)),ca={class:"product-buy"},da={class:"product-title"},oa={class:"product-price"},ia={class:"product-amount"},ea=_(()=>a("span",null,"\u6578\u91CF",-1)),na=P('<div class="add-track" data-v-9b8c5ba4><span class="icon heart" data-v-9b8c5ba4></span> \u52A0\u5165\u8FFD\u8E64\u6E05\u55AE </div><div class="deliver-way" data-v-9b8c5ba4><input type="checkbox" id="chk-deliver" data-v-9b8c5ba4><span class="icon angle-down" data-v-9b8c5ba4></span><label for="chk-deliver" data-v-9b8c5ba4>\u9001\u8CA8\u65B9\u5F0F</label><ul class="dliver-info" data-v-9b8c5ba4><li data-v-9b8c5ba4>\u5B85\u914D</li></ul></div>',2),ra=P('<div class="col-12 product-desc" data-v-9b8c5ba4><div class="title" data-v-9b8c5ba4> \u5546\u54C1\u63CF\u8FF0 </div><div class="content" data-v-9b8c5ba4><div data-v-9b8c5ba4>\uFF1D\u5496\u5561\u7119\u5EA6/\u98A8\u5473\uFF1D</div><div data-v-9b8c5ba4>\uFF0B \u4E2D\u6DF1\u70D8\u7119</div><div data-v-9b8c5ba4>\uFF0B \u5805\u679C\u8ABF\u53CA\u98FD\u6EFF\u7684\u7126\u7CD6\u751C\u611F</div><div data-v-9b8c5ba4>\uFF0B \u719F\u97FB\u60A0\u9577\u7684\u9435\u89C0\u97F3\u5DE7\u514B\u529B\u8ABF\u6027</div><div data-v-9b8c5ba4>\uFF0B \u6574\u9AD4\u98A8\u683C\u517C\u5177\u751C\u82E6\u5E73\u8861</div><div class="content-spacer" data-v-9b8c5ba4></div><div data-v-9b8c5ba4>\uFF1D\u6C96\u716E\u5EFA\u8B70\uFF1D</div><div data-v-9b8c5ba4>\uFF0B \u6C96\u716E\u6C34\u6EAB\uFF1A95\xB0C</div><div data-v-9b8c5ba4>\uFF0B \u7E3D\u6C34\u91CF\uFF1A180cc</div><div data-v-9b8c5ba4>\uFF0B \u6C96\u716E\u6642\u9593\uFF1A\u7E3D\u6642\u95935\u5206\u9418\uFF0C\u6D78\u6CE1\u6642\u53EF\u9069\u7576\u652A\u62CC</div><div class="content-spacer" data-v-9b8c5ba4></div><div data-v-9b8c5ba4>\uFF1D\u5496\u5561\u7119\u5EA6/\u98A8\u5473\uFF1D</div><div data-v-9b8c5ba4>\uFF0B \u6DFA\u70D8\u7119</div><div data-v-9b8c5ba4>\uFF0B \u6C34\u679C\u8EDF\u7CD6\u9178\u751C\u8C50\u5BCC</div><div data-v-9b8c5ba4>\uFF0B \u85CD\u8393\u679C\u91AC\u8207\u7D05\u860B\u679C\u7684\u5C64\u6B21\u4EA4\u932F</div><div data-v-9b8c5ba4>\uFF0B \u7126\u7CD6\u3001\u53EF\u53EF\u9999\u6C23\u5C3E\u97FB\u7DBF\u9577\u4E0D\u65B7</div><div class="content-spacer" data-v-9b8c5ba4></div><div data-v-9b8c5ba4>\uFF1D\u6C96\u716E\u5EFA\u8B70\uFF1D</div><div data-v-9b8c5ba4>\uFF0B \u6C96\u716E\u6C34\u6EAB\uFF1A92\xB0C</div><div data-v-9b8c5ba4>\uFF0B \u7E3D\u6C34\u91CF\uFF1A200cc</div><div data-v-9b8c5ba4>\uFF0B \u6C96\u716E\u6642\u9593\uFF1A\u7E3D\u6642\u95932\u5206\u9418</div><div class="content-spacer" data-v-9b8c5ba4></div><div data-v-9b8c5ba4>\u5099\u8A3B\uFF5C</div><div data-v-9b8c5ba4>\u25B3 \u672C\u5546\u54C1\u70BA\u6613\u788E\u54C1\u50C5\u9650\u300E\u5B85\u914D\u300F\u65B9\u5F0F\u51FA\u8CA8 ; \u55AE\u7B46\u8A02\u55AE\u91D1\u984D\u6EFF2000\u5143\u5373\u4EAB\u5B85\u914D\u514D\u904B</div><div data-v-9b8c5ba4>\u25B3 \u8ACB\u4EE5\u624B\u6D17\u4E26\u8ACB\u4F7F\u7528\u4E2D\u6027\u6E05\u6D17\u5291\u8207\u6D77\u7DBF\u6E05\u6D17\uFF0C\u52FF\u4F7F\u7528\u83DC\u74DC\u5E03\u7B49\u5C16\u92B3\u7269</div><div data-v-9b8c5ba4>\u25B3 \u8ACB\u52FF\u7528\u65BC\u300C\u5FAE\u6CE2\u7210\u3001\u96FB\u78C1\u7210\u53CA\u76F4\u706B\u52A0\u71B1\u3001\u70E4\u7BB1\u300D\uFF0C\u4E26\u8ACB\u52FF\u653E\u65BC\u51B7\u51CD\u5EAB\u4E2D</div><div data-v-9b8c5ba4>\u25B3 \u8ACB\u52FF\u4F7F\u7528\u91D1\u5C6C\u6750\u8CEA\u652A\u62CC\u6216\u6572\u6253\uFF0C\u907F\u514D\u5F37\u529B\u78B0\u649E\uFF0C\u5982\u6709\u88C2\u75D5\u6216\u7F3A\u89D2\u8ACB\u505C\u6B62\u4F7F\u7528</div><div data-v-9b8c5ba4>\u25B3 \u8ACB\u907F\u514D\u77AC\u9593\u6025\u907D\u6EAB\u5DEE\uFF0C\u53EF\u80FD\u9020\u6210\u676F\u8EAB\u7834\u88C2</div><div data-v-9b8c5ba4>\u25B3 \u676F\u53E3\u8F49\u5F4E\u8655\u53CA\u628A\u624B\u929C\u63A5\u8655\u4E4B\u8272\u91C9\u4E9B\u5FAE\u5806\u7A4D\u70BA\u6B63\u5E38\u73FE\u8C61\uFF0C\u4E0D\u5F71\u97FF\u4F7F\u7528\u8207\u54C1\u8CEA</div><div data-v-9b8c5ba4>\u25B3 \u90E8\u4EFD\u5546\u54C1\u63D0\u4F9B\u6D77\u5916\u914D\u9001\u670D\u52D9\uFF0C\u8ACB\u4F9D\u3010\u8CFC\u7269\u8ECA\u7D50\u5E33\u3011\u7CFB\u7D71\u756B\u9762\u4E4B\u300C\u9001\u8CA8\u65B9\u5F0F\u300D\u6A19\u793A\u8AAA\u660E\u70BA\u6E96</div><div data-v-9b8c5ba4>\u25B3 \u4E0B\u55AE\u5F8C\u7D043-7\u500B\u5DE5\u4F5C\u5929(\u4E0D\u542B\u5047\u65E5)\u5167\u9678\u7E8C\u51FA\u8CA8\uFF0C\u5982\u6709\u6025\u7528\u9700\u6C42\uFF0C\u4E0B\u55AE\u524D\u8ACB\u81EA\u884C\u8A55\u4F30\u662F\u5426\u540C\u610F\u518D\u4E0B\u55AE</div><div data-v-9b8c5ba4>\u25B3 \u4E0B\u55AE\u5F8C\u6055\u4E0D\u53D7\u7406\u4FEE\u6539\u4EFB\u4F55\u8A02\u55AE\u5167\u5BB9\u3001\u6307\u5B9A\u5230\u8CA8\u65E5\u53CA\u5408\u4F75\u8A02\u55AE\u514D\u904B\u8CBB\u4E4B\u670D\u52D9</div></div></div>',1),sa={class:"row related-product"},la=_(()=>a("div",{class:"col-12 related-product-title"}," \u76F8\u95DC\u7522\u54C1 ",-1)),ba={__name:"productView",setup(n){const u=N();u.params.id;const r=new B,m=q(),s=E(),l=g([]),e=g([]),o=g({}),h=g({}),w=C(1),V=d=>{w.value=d},L=()=>{m.addCart(o.id,w.value),s.contentMask=!0,m.cartVisible=!0},k=d=>new Promise(b=>{const t=new Image;t.src=d,t.onload=()=>{b(d)}}),A=(d,b,t=4)=>{if(d.length-1<t)return;const i=()=>{const c=new Set(Array(t).fill(0).map(S=>Math.floor(Math.random()*(d.length-1))));return[...c].length===t?[...c]:i()},f=i();return d.filter(c=>c.id!==b).filter((c,S)=>f.includes(S)).map(c=>(c.image="/star/images/products/"+c.image,c))};return z(()=>u.params.id,async d=>{const b=r.get("/products"),t=r.get("/random");await Promise.all([b,t]).then(([i,f])=>{l.length=0,e.length=0,Object.assign(o,i.filter(c=>c.id===d)[0]),o.price=U(o.price),Object.assign(h,A(i,d)),console.log(e),l.push("/star/images/products/"+o.imageLarge),e.push("/star/images/products/"+o.imageSmall),f.forEach(c=>{l.push("/star/images/products/"+c.imageLarge),e.push("/star/images/products/"+c.imageSmall)})}),await Promise.all([...l.map(i=>k(i)),...e.map(i=>k(i))])},{immediate:!0}),(d,b)=>(p(),v(y,null,[a("div",Z,[a("div",D,[x(Y,{"product-id":o.id,"image-large":l,"image-icon":e},null,8,["product-id","image-large","image-icon"])]),a("div",aa,[ta,a("div",ca,[a("div",da,I(o.title),1),a("div",oa,I(o.price),1),a("div",ia,[ea,x(X,{value:1,onUpdateAmount:V})]),a("div",{class:"product-buy"},[a("div",{class:"btn-buy menu-group",onClick:L}," \u52A0\u5165\u8CFC\u7269\u8ECA ")]),na])]),ra]),a("div",sa,[la,(p(!0),v(y,null,$(h,t=>(p(),v("div",{key:t.id,class:"col-lg-3 col-md-6 col-sm-6 col-xs-6"},[x(R,{price:t.price,"product-id":t.id,title:t.title,image:t.image,"show-cart":!1,onClick:i=>d.$router.push({name:"product",params:{id:t.id}})},null,8,["price","product-id","title","image","onClick"])]))),128))])],64))}};var ua=j(ba,[["__scopeId","data-v-9b8c5ba4"]]);export{ua as default};

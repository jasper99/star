import{_ as j,r as C,w as z,o as v,c as u,a as e,F as y,b as $,d as M,u as N,h as B,s as q,m as E,e as g,f as x,t as I,p as F,g as O,i as P,P as R,j as U}from"./index.a34dd14a.js";import{a as X}from"./amountSelect.d2a77e2b.js";const G={key:0,class:"product-show"},H={class:"picture"},J=["src"],K={class:"icons"},Q=["onClick"],T=["src"],W={__name:"productShow",props:{imageLarge:{type:Array,required:!0},imageIcon:{type:Array,required:!0}},setup(c){const m=c,r=C(),b=s=>{r.value=m.imageLarge[s],console.log("show")};return z(m.imageLarge,s=>{s.length>0&&b(0)},{immediate:!0}),(s,l)=>r.value?(v(),u("div",G,[e("div",H,[e("img",{class:"image-large",src:r.value},null,8,J)]),e("div",K,[(v(!0),u(y,null,$(c.imageIcon,(n,d)=>(v(),u("div",{key:d,onClick:h=>b(d)},[e("img",{src:n},null,8,T)],8,Q))),128))])])):M("",!0)}};var Y=j(W,[["__scopeId","data-v-18214327"]]);const _=c=>(F("data-v-42b44ee6"),c=c(),O(),c),Z={class:"row"},D={class:"col-lg-7 col-md-12 col-sm-12 col-xs-12"},ee={class:"col-lg-5 col-md-12 col-sm-12 col-xs-12 product-info"},ae=_(()=>e("div",{class:"spacer"},null,-1)),te={class:"product-buy"},de={class:"product-title"},oe={class:"product-price"},ie={class:"product-amount"},ce=_(()=>e("span",null,"\u6578\u91CF",-1)),ne=P('<div class="add-track" data-v-42b44ee6><span class="icon heart" data-v-42b44ee6></span> \u52A0\u5165\u8FFD\u8E64\u6E05\u55AE </div><div class="deliver-way" data-v-42b44ee6><input type="checkbox" id="chk-deliver" data-v-42b44ee6><span class="icon angle-down" data-v-42b44ee6></span><label for="chk-deliver" data-v-42b44ee6>\u9001\u8CA8\u65B9\u5F0F</label><ul class="dliver-info" data-v-42b44ee6><li data-v-42b44ee6>\u5B85\u914D</li></ul></div>',2),re=P('<div class="col-12 product-desc" data-v-42b44ee6><div class="title" data-v-42b44ee6> \u5546\u54C1\u63CF\u8FF0 </div><div class="content" data-v-42b44ee6><div data-v-42b44ee6>\uFF1D\u5496\u5561\u7119\u5EA6/\u98A8\u5473\uFF1D</div><div data-v-42b44ee6>\uFF0B \u4E2D\u6DF1\u70D8\u7119</div><div data-v-42b44ee6>\uFF0B \u5805\u679C\u8ABF\u53CA\u98FD\u6EFF\u7684\u7126\u7CD6\u751C\u611F</div><div data-v-42b44ee6>\uFF0B \u719F\u97FB\u60A0\u9577\u7684\u9435\u89C0\u97F3\u5DE7\u514B\u529B\u8ABF\u6027</div><div data-v-42b44ee6>\uFF0B \u6574\u9AD4\u98A8\u683C\u517C\u5177\u751C\u82E6\u5E73\u8861</div><div class="content-spacer" data-v-42b44ee6></div><div data-v-42b44ee6>\uFF1D\u6C96\u716E\u5EFA\u8B70\uFF1D</div><div data-v-42b44ee6>\uFF0B \u6C96\u716E\u6C34\u6EAB\uFF1A95\xB0C</div><div data-v-42b44ee6>\uFF0B \u7E3D\u6C34\u91CF\uFF1A180cc</div><div data-v-42b44ee6>\uFF0B \u6C96\u716E\u6642\u9593\uFF1A\u7E3D\u6642\u95935\u5206\u9418\uFF0C\u6D78\u6CE1\u6642\u53EF\u9069\u7576\u652A\u62CC</div><div class="content-spacer" data-v-42b44ee6></div><div data-v-42b44ee6>\uFF1D\u5496\u5561\u7119\u5EA6/\u98A8\u5473\uFF1D</div><div data-v-42b44ee6>\uFF0B \u6DFA\u70D8\u7119</div><div data-v-42b44ee6>\uFF0B \u6C34\u679C\u8EDF\u7CD6\u9178\u751C\u8C50\u5BCC</div><div data-v-42b44ee6>\uFF0B \u85CD\u8393\u679C\u91AC\u8207\u7D05\u860B\u679C\u7684\u5C64\u6B21\u4EA4\u932F</div><div data-v-42b44ee6>\uFF0B \u7126\u7CD6\u3001\u53EF\u53EF\u9999\u6C23\u5C3E\u97FB\u7DBF\u9577\u4E0D\u65B7</div><div class="content-spacer" data-v-42b44ee6></div><div data-v-42b44ee6>\uFF1D\u6C96\u716E\u5EFA\u8B70\uFF1D</div><div data-v-42b44ee6>\uFF0B \u6C96\u716E\u6C34\u6EAB\uFF1A92\xB0C</div><div data-v-42b44ee6>\uFF0B \u7E3D\u6C34\u91CF\uFF1A200cc</div><div data-v-42b44ee6>\uFF0B \u6C96\u716E\u6642\u9593\uFF1A\u7E3D\u6642\u95932\u5206\u9418</div><div class="content-spacer" data-v-42b44ee6></div><div data-v-42b44ee6>\u5099\u8A3B\uFF5C</div><div data-v-42b44ee6>\u25B3 \u672C\u5546\u54C1\u70BA\u6613\u788E\u54C1\u50C5\u9650\u300E\u5B85\u914D\u300F\u65B9\u5F0F\u51FA\u8CA8 ; \u55AE\u7B46\u8A02\u55AE\u91D1\u984D\u6EFF2000\u5143\u5373\u4EAB\u5B85\u914D\u514D\u904B</div><div data-v-42b44ee6>\u25B3 \u8ACB\u4EE5\u624B\u6D17\u4E26\u8ACB\u4F7F\u7528\u4E2D\u6027\u6E05\u6D17\u5291\u8207\u6D77\u7DBF\u6E05\u6D17\uFF0C\u52FF\u4F7F\u7528\u83DC\u74DC\u5E03\u7B49\u5C16\u92B3\u7269</div><div data-v-42b44ee6>\u25B3 \u8ACB\u52FF\u7528\u65BC\u300C\u5FAE\u6CE2\u7210\u3001\u96FB\u78C1\u7210\u53CA\u76F4\u706B\u52A0\u71B1\u3001\u70E4\u7BB1\u300D\uFF0C\u4E26\u8ACB\u52FF\u653E\u65BC\u51B7\u51CD\u5EAB\u4E2D</div><div data-v-42b44ee6>\u25B3 \u8ACB\u52FF\u4F7F\u7528\u91D1\u5C6C\u6750\u8CEA\u652A\u62CC\u6216\u6572\u6253\uFF0C\u907F\u514D\u5F37\u529B\u78B0\u649E\uFF0C\u5982\u6709\u88C2\u75D5\u6216\u7F3A\u89D2\u8ACB\u505C\u6B62\u4F7F\u7528</div><div data-v-42b44ee6>\u25B3 \u8ACB\u907F\u514D\u77AC\u9593\u6025\u907D\u6EAB\u5DEE\uFF0C\u53EF\u80FD\u9020\u6210\u676F\u8EAB\u7834\u88C2</div><div data-v-42b44ee6>\u25B3 \u676F\u53E3\u8F49\u5F4E\u8655\u53CA\u628A\u624B\u929C\u63A5\u8655\u4E4B\u8272\u91C9\u4E9B\u5FAE\u5806\u7A4D\u70BA\u6B63\u5E38\u73FE\u8C61\uFF0C\u4E0D\u5F71\u97FF\u4F7F\u7528\u8207\u54C1\u8CEA</div><div data-v-42b44ee6>\u25B3 \u90E8\u4EFD\u5546\u54C1\u63D0\u4F9B\u6D77\u5916\u914D\u9001\u670D\u52D9\uFF0C\u8ACB\u4F9D\u3010\u8CFC\u7269\u8ECA\u7D50\u5E33\u3011\u7CFB\u7D71\u756B\u9762\u4E4B\u300C\u9001\u8CA8\u65B9\u5F0F\u300D\u6A19\u793A\u8AAA\u660E\u70BA\u6E96</div><div data-v-42b44ee6>\u25B3 \u4E0B\u55AE\u5F8C\u7D043-7\u500B\u5DE5\u4F5C\u5929(\u4E0D\u542B\u5047\u65E5)\u5167\u9678\u7E8C\u51FA\u8CA8\uFF0C\u5982\u6709\u6025\u7528\u9700\u6C42\uFF0C\u4E0B\u55AE\u524D\u8ACB\u81EA\u884C\u8A55\u4F30\u662F\u5426\u540C\u610F\u518D\u4E0B\u55AE</div><div data-v-42b44ee6>\u25B3 \u4E0B\u55AE\u5F8C\u6055\u4E0D\u53D7\u7406\u4FEE\u6539\u4EFB\u4F55\u8A02\u55AE\u5167\u5BB9\u3001\u6307\u5B9A\u5230\u8CA8\u65E5\u53CA\u5408\u4F75\u8A02\u55AE\u514D\u904B\u8CBB\u4E4B\u670D\u52D9</div></div></div>',1),se={class:"row related-product"},le=_(()=>e("div",{class:"col-12 related-product-title"}," \u76F8\u95DC\u7522\u54C1 ",-1)),pe={__name:"productView",setup(c){const m=N();m.params.id;const r=new B,b=q(),s=E(),l=g([]),n=g([]),d=g({}),h=g({}),w=C(1),V=o=>{w.value=o},L=()=>{b.addCart(d.id,w.value),s.contentMask=!0,b.cartVisible=!0},k=o=>new Promise(p=>{const a=new Image;a.src=o,a.onload=p}),A=(o,p,a=4)=>{if(o.length-1<a)return;const i=()=>{const t=new Set(Array(a).fill(0).map(S=>Math.floor(Math.random()*(o.length-1))));return[...t].length===a?[...t]:i()},f=i();return o.filter(t=>t.id!==p).filter((t,S)=>f.includes(S)).map(t=>(t.image="/star/images/products/"+t.image,t))};return z(()=>m.params.id,async o=>{const p=r.get("/products"),a=r.get("/random");await Promise.all([p,a]).then(([i,f])=>{l.length=0,n.length=0,Object.assign(d,i.filter(t=>t.id===o)[0]),d.price=U(d.price),Object.assign(h,A(i,o)),l.push("/star/images/products/"+d.imageLarge),n.push("/star/images/products/"+d.imageSmall),f.forEach(t=>{l.push("/star/images/products/"+t.imageLarge),n.push("/star/images/products/"+t.imageSmall)})}),await Promise.all([...l.map(i=>k(i)),...n.map(i=>k(i))])},{immediate:!0}),(o,p)=>(v(),u(y,null,[e("div",Z,[e("div",D,[x(Y,{"product-id":d.id,"image-large":l,"image-icon":n},null,8,["product-id","image-large","image-icon"])]),e("div",ee,[ae,e("div",te,[e("div",de,I(d.title),1),e("div",oe,I(d.price),1),e("div",ie,[ce,x(X,{value:1,onUpdateAmount:V})]),e("div",{class:"product-buy"},[e("div",{class:"btn-buy menu-group",onClick:L}," \u52A0\u5165\u8CFC\u7269\u8ECA ")]),ne])]),re]),e("div",se,[le,(v(!0),u(y,null,$(h,a=>(v(),u("div",{key:a.id,class:"col-lg-3 col-md-6 col-sm-6 col-xs-6"},[x(R,{price:a.price,"product-id":a.id,title:a.title,image:a.image,"show-cart":!1,onClick:i=>o.$router.push({name:"product",params:{id:a.id}})},null,8,["price","product-id","title","image","onClick"])]))),128))])],64))}};var me=j(pe,[["__scopeId","data-v-42b44ee6"]]);export{me as default};
